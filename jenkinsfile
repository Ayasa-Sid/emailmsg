pipeline{
    agent any

            tools{
             maven 'maven_3_8_6'

             }
              stages{

                     stage('Checkout from github'){
                         steps{
                          checkout([$class:'GitSCM',branches:[[name:'*/master']],extensions:[],userRemoteConfigs:[[url:'https://github.com/Ayasa-Sid/emailmsg.git']]])

                           }
                     }
                      stage('Build stage'){
                             steps {
                                 script{
                                 bat 'mvn clean package shade:shade'
                                 }
                             }
                      }
                      stage('Docker Build'){
                            steps{
                                script{
                                 bat 'docker build -t emailmsg:latest'
                                }
                            }
                      }


              }


    }
