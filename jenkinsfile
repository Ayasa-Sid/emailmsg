pipeline{
    agent any

            tools{
             maven 'maven_3_8_6'

             }
              stages{

                     stage('Checkout from github'){
                         steps{
                          checkout([$class:'GitSCM',branches:[[name:'*/master']],extensions:[],userRemoteConfigs:[[url:'https://github.com/Ayasa-Sid/emailmsg']]])

                           }
                     }
                      stage('Build stage'){
                            steps{
                              withMaven(maven:'maven_3_8_6'){
                                 bat 'maven clean install'
                                  }

                            }
                      }
                      stage("foo") {
                              steps {
                                 script {
                                     try {
                                            env.FILENAME = readFile 'output.txt'
                                            echo "${env.FILENAME}"
                                            }
                                                  catch(Exception e) {
                                                      //do something, e.g. echo 'File not found'
                                                  }
                                              }
                        }
             }
    }
